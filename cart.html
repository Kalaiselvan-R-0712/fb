<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Cart | Stackly Boutique</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;600&family=Playfair+Display:wght@400;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

<style>
:root {
  --bg:#fafafa; --card:#fff; --text:#222; --muted:#6b6b6b;
  --accent:#f72585; --accent-dark:#d31e69; --glass:rgba(255,255,255,0.65);
  --header-h:88px; --radius:18px;
}
[data-theme='dark'] {
  --bg:#0b0b0c; --card:#0f0f10; --text:#f1f1f1; --muted:#bdbdbd;
  --accent:#ff6aa3; --accent-dark:#cc578c; --glass:rgba(255,255,255,0.04);
}
*{box-sizing:border-box;}
body{margin:0; padding-top:var(--header-h); font-family:'Poppins', sans-serif; background:var(--bg); color:var(--text); transition:0.25s;}
header{position:fixed; top:0; left:0; right:0; display:flex; justify-content:space-between; align-items:center; padding:0.5rem 1rem; background:linear-gradient(180deg,var(--glass),rgba(0,0,0,0)); backdrop-filter:blur(6px); z-index:1200; flex-wrap:wrap;}
.logo a{display:flex; align-items:center; gap:0.7rem; text-decoration:none; color:var(--accent); font-family:'Playfair Display', serif; font-size:1.6rem; font-weight:700;}
.logo img{height:40px; width:auto;}
nav#mainNav{display:flex; gap:1.5rem;}
nav#mainNav a{color:var(--text); text-decoration:none; font-weight:600; text-transform:uppercase; font-size:0.95rem; cursor:pointer; display:flex; align-items:center;}
nav#mainNav a:hover, nav#mainNav a[aria-current="page"]{color:var(--accent);}
.actions{display:flex; gap:0.8rem; align-items:center;}
.actions button, .actions a{padding:0.5rem 1.2rem; border-radius:25px; font-weight:600; font-size:0.95rem; border:2px solid transparent; cursor:pointer; text-decoration:none; display:inline-flex; align-items:center; justify-content:center; transition:0.3s;}
.actions button#themeToggle{background:transparent; color:var(--text); border:2px solid var(--text);}
.actions button#themeToggle:hover{background:var(--accent); border-color:var(--accent); color:white;}
.actions a.login{background:transparent; color:var(--accent); border:2px solid var(--accent);}
.actions a.login:hover{background:var(--accent); color:white;}
.actions a.register{background:var(--accent); color:white; border:2px solid var(--accent);}
.actions a.register:hover{background:var(--accent-dark);}
main{max-width:1000px; margin:2rem auto; padding:0 6vw;}
main h1{font-family:'Playfair Display', serif; font-size:2.3rem; text-align:center; margin-bottom:2rem;}
.cart-container{background:var(--card); border-radius:var(--radius); box-shadow:0 8px 30px rgba(0,0,0,0.08); padding:1.5rem;}
.cart-item{display:flex; align-items:center; justify-content:space-between; border-bottom:1px solid var(--glass); padding:1rem 0; flex-wrap:wrap;}
.cart-item img{width:90px; height:90px; border-radius:var(--radius); object-fit:cover;}
.item-info{flex:1; margin-left:1rem;}
.item-info h3{margin:0 0 0.3rem;}
.item-info p{margin:0; color:var(--muted); font-size:0.9rem;}
.item-controls{display:flex; align-items:center; gap:0.5rem;}
.qty-btn{background:var(--accent); color:white; border:none; border-radius:50%; width:28px; height:28px; cursor:pointer; font-weight:bold;}
.qty-value{min-width:20px; text-align:center;}
.item-price{font-weight:600; color:var(--accent);}
.remove-btn{background:none; border:none; color:var(--muted); cursor:pointer; font-size:1rem;}
.total-section{text-align:right; margin-top:1.5rem; font-size:1.2rem; font-weight:600;}
.clear-cart{display:block; margin-top:1rem; padding:0.7rem 1.5rem; background:var(--accent); color:#fff; border:none; border-radius:25px; cursor:pointer; font-weight:600;}
.clear-cart:hover{background:var(--accent-dark);}
.empty{text-align:center; padding:2rem; color:var(--muted);}
footer{background:var(--card); padding:2.5rem 6vw; text-align:center; color:var(--muted); font-size:0.95rem;}
footer .social-icons{margin-bottom:1.4rem; font-size:1.6rem; display:flex; justify-content:center; gap:1.2rem;}
footer .social-icons a{color:var(--muted); transition:0.3s;}
footer .social-icons a:hover{color:var(--accent);}
.hamburger{display:none; font-size:1.8rem; background:none; border:none; cursor:pointer;}
@media(max-width:768px){
  nav#mainNav{display:none; flex-direction:column; width:100%; margin-top:0.5rem;}
  nav#mainNav.active{display:flex;}
  nav#mainNav a{text-align:center; width:100%; padding:0.7rem 0;}
  .hamburger{display:block;}
}
.hamburger i{color:var(--text);}
[data-theme='dark'] .hamburger i{color:#fff;}
</style>
</head>
<body>

<header>
  <div class="logo">
    <a href="index.html"><img src="assets/logo/the_stackly_logo.jpg" alt="Stackly Logo"><span>STACKLY</span></a>
  </div>
  <button class="hamburger" aria-label="Toggle navigation" aria-expanded="false"><i class="fa fa-bars"></i></button>
  <nav id="mainNav">
    <a href="index.html">Home</a>
    <a href="shop.html" aria-current="page">Shop</a>
    <a href="about.html">About</a>
    <a href="contact.html">Contact</a>
    <a href="customer-dashboard.html">Dashboard</a>
  </nav>
  <div class="actions">
    <button id="themeToggle"><i class="fa-solid fa-moon"></i></button>
    <a href="login.html" class="login">Login</a>
    <a href="register.html" class="register">Register</a>
  </div>
</header>

<main>
  <h1>Your Shopping Cart</h1>
  <div class="cart-container" id="cartContainer"></div>
  <div class="total-section" id="cartTotal"></div>
  <button class="clear-cart" id="clearCart" style="display:none;">Clear Cart</button>
</main>

<footer>
  <div class="social-icons">
    <a href="https://mail.google.com"><i class="fa-solid fa-envelope"></i></a>
    <a href="https://www.linkedin.com"><i class="fab fa-linkedin-in"></i></a>
    <a href="https://x.com"><i class="fab fa-twitter"></i></a>
    <a href="https://www.facebook.com"><i class="fab fa-facebook-f"></i></a>
    <a href="https://www.instagram.com"><i class="fab fa-instagram"></i></a>
  </div>
  <p>&copy; 2025 Stackly. All rights reserved.</p>
</footer>

<script>
// === Theme Toggle ===
const themeToggle = document.getElementById('themeToggle');
const root = document.documentElement;
function applyTheme(theme){
  if(theme==='dark'){
    root.setAttribute('data-theme','dark');
    themeToggle.innerHTML='<i class="fa-solid fa-sun"></i>';
  }else{
    root.removeAttribute('data-theme');
    themeToggle.innerHTML='<i class="fa-solid fa-moon"></i>';
  }
}
const savedTheme = localStorage.getItem('stackly-theme') ||
(window.matchMedia('(prefers-color-scheme: dark)').matches?'dark':'light');
applyTheme(savedTheme);
themeToggle.addEventListener('click',()=>{
  const next = root.getAttribute('data-theme')==='dark'?'light':'dark';
  applyTheme(next);
  localStorage.setItem('stackly-theme',next);
});

// === Hamburger ===
const hamburger=document.querySelector('.hamburger');
const nav=document.getElementById('mainNav');
hamburger.addEventListener('click',()=>{
  nav.classList.toggle('active');
});

// === CART LOGIC ===
const cartContainer=document.getElementById('cartContainer');
const cartTotal=document.getElementById('cartTotal');
const clearBtn=document.getElementById('clearCart');

let cart=JSON.parse(localStorage.getItem('stackly-cart'))||[];

function renderCart(){
  cartContainer.innerHTML='';
  if(cart.length===0){
    cartContainer.innerHTML='<div class="empty">Your cart is empty.</div>';
    cartTotal.textContent='';
    clearBtn.style.display='none';
    return;
  }
  clearBtn.style.display='block';
  let total=0;
  cart.forEach((item,index)=>{
    total+=item.price*item.qty;
    const div=document.createElement('div');
    div.className='cart-item';
    div.innerHTML=`
      <img src="${item.image}" alt="${item.name}">
      <div class="item-info">
        <h3>${item.name}</h3>
        <p>$${item.price.toFixed(2)}</p>
      </div>
      <div class="item-controls">
        <button class="qty-btn" onclick="changeQty(${index},-1)">-</button>
        <div class="qty-value">${item.qty}</div>
        <button class="qty-btn" onclick="changeQty(${index},1)">+</button>
      </div>
      <div class="item-price">$${(item.price*item.qty).toFixed(2)}</div>
      <button class="remove-btn" onclick="removeItem(${index})"><i class="fa-solid fa-trash"></i></button>
    `;
    cartContainer.appendChild(div);
  });
  cartTotal.textContent='Total: $'+total.toFixed(2);
  localStorage.setItem('stackly-cart',JSON.stringify(cart));
}

function changeQty(index,delta){
  cart[index].qty+=delta;
  if(cart[index].qty<=0){cart.splice(index,1);}
  renderCart();
}

function removeItem(index){
  cart.splice(index,1);
  renderCart();
}

clearBtn.addEventListener('click',()=>{
  if(confirm('Clear your cart?')){
    cart=[];
    renderCart();
  }
});

renderCart();
</script>

</body>
</html>
