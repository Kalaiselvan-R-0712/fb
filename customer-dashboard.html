<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Customer Dashboard | Stackly Boutique</title>

  <!-- Fonts & Icons (same as other pages) -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;600;700&family=Playfair+Display:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

  <style>
    :root{
      --bg:#fafafa; --card:#fff; --text:#222; --muted:#6b6b6b;
      --accent:#f72585; --accent-dark:#d31e69; --glass:rgba(255,255,255,0.65);
      --header-h:88px; --radius:18px;
    }
    [data-theme='dark']{
      --bg:#0b0b0c; --card:#0f0f10; --text:#f1f1f1; --muted:#bdbdbd;
      --accent:#ff6aa3; --accent-dark:#cc578c; --glass:rgba(255,255,255,0.04);
    }

    *{box-sizing:border-box;}
    html,body{height:100%;}
    body{
      margin:0;
      padding-top:var(--header-h);
      font-family:'Poppins',sans-serif;
      background:var(--bg);
      color:var(--text);
      transition:background 0.25s,color 0.25s;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    /* Header (same style as other pages) */
    header{
      position:fixed;
      top:0; left:0; right:0;
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:0.5rem 1rem;
      background:linear-gradient(180deg,var(--glass),rgba(0,0,0,0));
      backdrop-filter:blur(6px);
      z-index:1200;
      flex-wrap:wrap;
      border-bottom:1px solid rgba(0,0,0,0.04);
    }

    .logo{display:flex;align-items:center;gap:0.6rem;}
    .logo a{display:flex;align-items:center;gap:0.7rem;text-decoration:none;color:var(--accent);font-family:'Playfair Display',serif;font-size:1.4rem;font-weight:700;}
    .logo img{height:40px;width:auto;object-fit:cover;border-radius:9999px;flex-shrink:0;}
    /* safer helper for mobile */
    .logo-img{height:40px;width:auto;}

    nav#mainNav{display:flex;gap:1.2rem;align-items:center;}
    nav#mainNav a{color:var(--text);text-decoration:none;font-weight:600;text-transform:uppercase;font-size:0.95rem;cursor:pointer;}
    nav#mainNav a:hover, nav#mainNav a[aria-current="page"]{color:var(--accent);}

    .actions{display:flex;gap:0.7rem;align-items:center;}
    .actions button, .actions a{padding:0.45rem 1rem;border-radius:22px;font-weight:600;font-size:0.95rem;border:2px solid transparent;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;transition:0.25s;text-decoration:none;color:inherit;background:transparent;}
    .actions button#themeToggle{border:2px solid var(--text);}
    .actions button#themeToggle:hover{background:var(--accent);color:#fff;border-color:var(--accent);}
    .actions a.home-btn{background:var(--accent);color:#fff;border:2px solid var(--accent);}
    .actions a.home-btn:hover{background:var(--accent-dark);border-color:var(--accent-dark);}

    .hamburger{display:none;font-size:1.6rem;background:none;border:none;cursor:pointer;padding:0.2rem 0.5rem;}
    .hamburger i{color:var(--text);font-size:1.6rem;}

    /* Main layout */
    main{max-width:1200px;margin:2rem auto;padding:0 6vw 4rem;}
    .welcome{ text-align:center; margin-bottom:1rem; }
    .welcome h1{font-family:'Playfair Display',serif;font-size:2.2rem;margin:0 0 6px;}
    .welcome p{color:var(--muted);margin:0;}

    /* Analytics / Cards */
    .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:1.2rem;margin-top:1rem;}
    .card{
      background:var(--card);
      border-radius:var(--radius);
      box-shadow:0 8px 30px rgba(0,0,0,0.06);
      padding:1.25rem;
      transition:transform 0.25s,box-shadow 0.25s;
      overflow:hidden;
    }
    .card:hover{transform:translateY(-8px);box-shadow:0 20px 45px rgba(0,0,0,0.12);}
    .card h3{margin:0 0 6px;font-size:1rem;display:flex;align-items:center;gap:0.5rem;font-weight:700;}
    .card .big{font-size:2rem;font-weight:800;margin:6px 0;}
    .card p.small{color:var(--muted);margin:0;font-size:0.92rem;}

    /* Quick actions */
    .actions-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:1rem;margin-top:1rem;}
    .action-btn{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:1rem;border-radius:14px;background:var(--card);cursor:pointer;border:1px solid rgba(0,0,0,0.04);transition:transform .2s,box-shadow .2s;}
    .action-btn:hover{transform:translateY(-6px);box-shadow:0 12px 30px rgba(0,0,0,0.08);}
    .action-btn i{font-size:1.5rem;margin-bottom:0.4rem;}

    footer{background:var(--card);padding:2.5rem 6vw;text-align:center;color:var(--muted);font-size:0.95rem;border-top:1px solid rgba(0,0,0,0.04);margin-top:2rem;}

    /* Responsive */
    @media(max-width:1024px){
      .grid{grid-template-columns:repeat(2,1fr);}
      .actions-grid{grid-template-columns:repeat(2,1fr);}
      nav#mainNav{gap:0.8rem;}
    }
    @media(max-width:768px){
      header{padding:0.6rem 0.9rem;}
      nav#mainNav{display:none;width:100%;flex-direction:column;margin-top:0.6rem;}
      nav#mainNav.active{display:flex;}
      .hamburger{display:block;}
      .logo img{height:38px;}
      body{padding-top:78px;}
      .grid{grid-template-columns:1fr;}
      .actions-grid{grid-template-columns:1fr 1fr;}
    }
    @media(max-width:480px){
      .logo img{height:34px;}
      .welcome h1{font-size:1.5rem;}
      .actions a.home-btn{display:none;}
      .actions-grid{grid-template-columns:1fr;}
    }
  </style>
</head>
<body>

<header>
  <div class="logo">
    <a href="index.html"><img src="assets/logo/the_stackly_logo.jpg" alt="Stackly Logo" class="logo-img"><span>STACKLY</span></a>
  </div>

  <button class="hamburger" aria-label="Toggle navigation" aria-expanded="false"><i class="fa fa-bars"></i></button>

  <nav id="mainNav" aria-label="Primary navigation">
    <a href="index.html">Home</a>
    <a href="shop.html">Shop</a>
    <a href="about.html">About</a>
    <a href="contact.html">Contact</a>
    <a href="customer-dashboard.html" aria-current="page">Customer Dashboard</a>
  </nav>

  <div class="actions">
    <button id="themeToggle" aria-pressed="false" title="Toggle theme"><i class="fa-solid fa-moon"></i></button>
    <a href="index.html" class="home-btn">Homepage</a>
    <button id="logoutBtn">Logout</button>
  </div>
</header>

<main>
  <section class="welcome">
    <h1>Welcome, <span id="userName" style="color:var(--accent)">Customer</span> ðŸ‘‹</h1>
    <p>Your personalized Stackly dashboard overview.</p>
  </section>

  <section class="grid" aria-label="analytics">
    <div class="card">
      <h3><i class="fa-solid fa-server" style="color:var(--accent)"></i> Cloud Usage</h3>
      <div class="big">78%</div>
      <p class="small">of your allocated resources used</p>
    </div>

    <div class="card">
      <h3><i class="fa-solid fa-chart-line" style="color:#4fc3f7"></i> Monthly Growth</h3>
      <div class="big">+23%</div>
      <p class="small">compared to last month</p>
    </div>

    <div class="card">
      <h3><i class="fa-solid fa-wallet" style="color:#34d399"></i> Billing Summary</h3>
      <div class="big">$124.00</div>
      <p class="small">Next payment due 10 Nov</p>
    </div>
  </section>

  <section style="margin-top:18px;">
    <h2 style="font-family:'Playfair Display',serif;margin:0 0 12px 0;font-size:1.15rem;">Quick Actions</h2>
    <div class="actions-grid">
      <button class="action-btn" type="button"><i class="fa-solid fa-cloud-arrow-up" style="color:var(--accent)"></i><span>Upload Files</span></button>
      <button class="action-btn" type="button"><i class="fa-solid fa-database" style="color:#60a5fa"></i><span>Manage Storage</span></button>
      <button class="action-btn" type="button"><i class="fa-solid fa-headset" style="color:#34d399"></i><span>Support Tickets</span></button>
      <button class="action-btn" type="button"><i class="fa-solid fa-gear" style="color:#f59e0b"></i><span>Account Settings</span></button>
    </div>
  </section>
</main>

<footer>
  <div class="social-icons" style="margin-bottom:10px;font-size:1.2rem;">
    <a href="https://mail.google.com" aria-label="Email" style="margin-right:10px;color:var(--muted)"><i class="fa-solid fa-envelope"></i></a>
    <a href="https://www.linkedin.com" aria-label="LinkedIn" style="margin-right:10px;color:var(--muted)"><i class="fab fa-linkedin-in"></i></a>
    <a href="https://x.com" aria-label="Twitter" style="margin-right:10px;color:var(--muted)"><i class="fab fa-twitter"></i></a>
    <a href="https://www.facebook.com" aria-label="Facebook" style="margin-right:10px;color:var(--muted)"><i class="fab fa-facebook-f"></i></a>
    <a href="https://www.instagram.com" aria-label="Instagram" style="color:var(--muted)"><i class="fab fa-instagram"></i></a>
  </div>
  <p>Â© <span id="year"></span> Stackly. All rights reserved.</p>
</footer>

<script>
  // Footer year
  document.getElementById('year').textContent = new Date().getFullYear();

  // Theme system (same key as your other pages)
  const root = document.documentElement;
  const themeToggle = document.getElementById('themeToggle');

  function applyTheme(t){
    if(t === 'dark'){
      root.setAttribute('data-theme','dark');
      themeToggle.setAttribute('aria-pressed','true');
      themeToggle.innerHTML = '<i class="fa-solid fa-sun"></i>';
    } else {
      root.removeAttribute('data-theme');
      themeToggle.setAttribute('aria-pressed','false');
      themeToggle.innerHTML = '<i class="fa-solid fa-moon"></i>';
    }
    // ensure hamburger color (if any)
    const hambIcon = document.querySelector('.hamburger i');
    if(hambIcon) hambIcon.style.color = (t==='dark') ? '#fff' : '#222';
  }

  const savedTheme = localStorage.getItem('stackly-theme') || (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
  applyTheme(savedTheme);

  themeToggle.addEventListener('click', () => {
    const current = root.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
    applyTheme(current);
    localStorage.setItem('stackly-theme', current);
  });

  // Hamburger toggle for mobile nav
  const hamburger = document.querySelector('.hamburger');
  const nav = document.getElementById('mainNav');
  hamburger.addEventListener('click', () => {
    nav.classList.toggle('active');
    hamburger.setAttribute('aria-expanded', nav.classList.contains('active'));
  });

  // Load logged in user (same logic you used)
  const user = JSON.parse(localStorage.getItem('loggedInUser'));
  const nameEl = document.getElementById('userName');
  if(!user || user.role !== 'customer'){
    // not logged in as customer -> go to login
    window.location.href = 'login.html';
  } else {
    nameEl.textContent = user.name || 'Customer';
  }

  // Logout
  document.getElementById('logoutBtn').addEventListener('click', () => {
    localStorage.removeItem('loggedInUser');
    window.location.href = 'login.html';
  });

  // Click outside to close mobile nav (optional)
  document.addEventListener('click', function(e){
    if(window.innerWidth <= 768){
      if(!nav.contains(e.target) && !document.querySelector('.hamburger').contains(e.target)){
        nav.classList.remove('active');
        document.querySelector('.hamburger').setAttribute('aria-expanded', false);
      }
    }
  });
</script>
</body>
</html>
